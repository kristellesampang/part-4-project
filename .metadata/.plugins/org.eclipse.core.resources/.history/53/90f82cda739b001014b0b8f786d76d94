#include "system.h"
#include "io.h"
#include "alt_stdio.h" // We need this just for alt_getchar()

int main()
{
  // First, send a clear "I am alive" signal by turning on one LED.
  IOWR(LED_PIO_BASE, 0, 0x01);

  char received_char;
  while(1)
  {
    // Wait here until we receive a character from the PC console.
    received_char = alt_getchar();

    // As soon as we get ANY character, display its ASCII value on the LEDs.
    // If you type 'A' (ASCII 65, or 0x41), the LEDs should show that pattern.
    IOWR(LED_PIO_BASE, 0, received_char);
  }
  return 0;
}
